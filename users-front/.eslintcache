[{"/Users/krp/Documents/Projects/django/users/users-front/src/index.js":"1","/Users/krp/Documents/Projects/django/users/users-front/src/App.js":"2","/Users/krp/Documents/Projects/django/users/users-front/src/reportWebVitals.js":"3","/Users/krp/Documents/Projects/django/users/users-front/src/components/Users.js":"4","/Users/krp/Documents/Projects/django/users/users-front/src/components/Header.js":"5","/Users/krp/Documents/Projects/django/users/users-front/src/components/Groups.js":"6"},{"size":500,"mtime":1610111292723,"results":"7","hashOfConfig":"8"},{"size":429,"mtime":1610331599543,"results":"9","hashOfConfig":"8"},{"size":362,"mtime":1610111292724,"results":"10","hashOfConfig":"8"},{"size":8634,"mtime":1610526929899,"results":"11","hashOfConfig":"8"},{"size":345,"mtime":1610396532336,"results":"12","hashOfConfig":"8"},{"size":7834,"mtime":1610397702505,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"1d0kqc1",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"16"},"/Users/krp/Documents/Projects/django/users/users-front/src/index.js",[],["28","29"],"/Users/krp/Documents/Projects/django/users/users-front/src/App.js",[],"/Users/krp/Documents/Projects/django/users/users-front/src/reportWebVitals.js",[],"/Users/krp/Documents/Projects/django/users/users-front/src/components/Users.js",["30"],"/Users/krp/Documents/Projects/django/users/users-front/src/components/Header.js",[],"/Users/krp/Documents/Projects/django/users/users-front/src/components/Groups.js",["31"],"import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport $ from 'jquery'\nimport Header from './Header'\nimport { NotificationContainer, NotificationManager } from 'react-notifications'\nimport Pagination from 'react-js-pagination'\nimport 'react-notifications/lib/notifications.css'\n\n\nfunction Groups() {\n  const [groups, setGroups] = useState([])\n\n  const [totalCount, setTotalCount] = useState(0)\n  const [offset, setOffset] = useState(0)\n  const [perPage] = useState(5)\n  const [activePage, setActivePage] = useState(1)\n\n\n  let setData = offset => {\n    axios.get(`/api/group/?limit=${perPage}&offset=${offset}`).then(res => {\n      setGroups(res.data.results)\n      setTotalCount(res.data.count)\n\n      res.data.results.forEach((g, index) => {\n        $(`.edit-group-${index} #input-name-${index}`).val(g.name)\n        $(`.edit-group-${index} #input-desc-${index}`).val(g.description)\n      })\n    })\n  }\n\n  useEffect(setData, [])\n\n  let editGroup = (index, groupId) => {\n    let name = $(`.edit-group-${index} #input-name-${index}`).val()\n    let description = $(`.edit-group-${index} #input-desc-${index}`).val()\n\n    if (name && description) {\n      axios.put(`/api/group/${groupId}/`, {name, description}).then(() => {\n        $(`#edit-modal-${index}`).trigger('click')\n        setData(offset)\n        NotificationManager.success('Success')\n      }).catch(() => {\n        NotificationManager.error('Error')\n      })\n    }\n  }\n\n  let addGroup = () => {    \n    let name = $('.add-group #input-name').val()\n    let description = $('.add-group #input-desc').val()\n\n    if (name && description) {\n      axios.post('/api/group/', {name, description}).then(() => {\n        $('#add-group-modal').trigger('click')\n        setData(offset)\n        NotificationManager.success('Success')\n\n        $('.add-group #input-name').val('')\n        $('.add-group #input-desc').val('')\n      }).catch(() => {\n        NotificationManager.error('Error')\n      })\n    }\n  }\n\n  let deleteGroup = (index, groupId) => {\n    axios.delete(`/api/group/${groupId}/`).then(() => {\n      $(`#delete-modal-${index}`).trigger('click')\n      setData(offset)\n      NotificationManager.success('Success')\n    }).catch(() => {\n      NotificationManager.error('Error, maybe the user is assigned to this group')\n    })\n  }\n\n  let handlePageChange = pageNumber => {\n    let _offset = Math.ceil((pageNumber - 1) * perPage)\n\n    setOffset(_offset)\n    setData(_offset)\n    setActivePage(pageNumber)\n  }\n\n  return (\n    <div>\n      <NotificationContainer/>\n\n      <Header />\n      <button type=\"button\" className=\"btn btn-dark add\" data-bs-toggle=\"modal\" data-bs-target=\"#add-group-modal\">Add Group</button>\n      <div className=\"modal fade\" id=\"add-group-modal\" tabindex=\"-1\" aria-hidden=\"true\">\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\">Add group</h5>\n              <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n\n            <div className=\"modal-body\">\n              <div className={`mb-3 add-group`}>\n                <label for=\"input-name\" className=\"form-label\">Name</label>\n                <input type=\"text\" className=\"form-control\" id=\"input-name\" />\n                <br />\n                <label for=\"input-desc\" className=\"form-label\">Description</label>\n                <input list=\"groups\" className=\"form-control\" id=\"input-desc\" />\n              </div>\n              <div className=\"modal-footer\">\n                <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                <button type=\"button\" className=\"btn btn-dark\" onClick={addGroup}>Add</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"table-container\">\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Id</th>\n              <th scope=\"col\">Name</th>\n              <th scope=\"col\">Description</th>\n              <th scope=\"col\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {groups.map((g, index) => (\n              <tr>\n                <th scope=\"row\">{g.id}</th>\n                <td>{g.name}</td>\n                <td>{g.description}</td>\n                <td>\n                  <div className=\"btn-group\">\n                    <button\n                      type=\"button\" className=\"btn btn-dark\"\n                      data-bs-toggle=\"modal\"\n                      data-bs-target={`#edit-modal-${index}`}\n                    >Edit</button>\n                    <button\n                      type=\"button\" className=\"btn btn-danger\"\n                      data-bs-toggle=\"modal\"\n                      data-bs-target={`#delete-modal-${index}`}\n                    >Delete</button>\n                  </div>\n                </td>\n\n                <div className=\"modal fade\" id={`edit-modal-${index}`} tabindex=\"-1\" aria-hidden=\"true\">\n                  <div className=\"modal-dialog\">\n                    <div className=\"modal-content\">\n                      <div className=\"modal-header\">\n                        <h5 className=\"modal-title\">Edit group with id {g.id}</h5>\n                        <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                      </div>\n\n                      <div className=\"modal-body\">\n                        <div className={`mb-3 edit-group-${index}`}>\n                          <label for={`input-name-${index}`} className=\"form-label\">Name</label>\n                          <input type=\"text\" className=\"form-control\" id={`input-name-${index}`} />\n                          <br />\n                          <label for={`input-desc-${index}`} className=\"form-label\">Description</label>\n                          <input list=\"groups\" className=\"form-control\" id={`input-desc-${index}`} />\n                        </div>\n                        <div className=\"modal-footer\">\n                          <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                          <button type=\"button\" className=\"btn btn-dark\" onClick={() => editGroup(index, g.id)}>Update</button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"modal fade\" id={`delete-modal-${index}`} tabindex=\"-1\" aria-hidden=\"true\">\n                  <div className=\"modal-dialog\">\n                    <div className=\"modal-content\">\n                      <div className=\"modal-header\">\n                        <h5 className=\"modal-title\">Delete group {g.name}</h5>\n                        <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                      </div>\n\n                      <div className=\"modal-body\">\n                        <p>Are you sure?</p>\n                        <div className=\"modal-footer\">\n                          <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                          <button type=\"button\" className=\"btn btn-dark\" onClick={() => deleteGroup(index, g.id)}>Yes</button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      <Pagination\n        activePage={activePage}\n        itemsCountPerPage={perPage}\n        totalItemsCount={totalCount}\n        onChange={handlePageChange}\n        innerClass=\"pagination\"\n      />\n    </div>\n  )\n}\n\nexport default Groups",{"ruleId":"32","replacedBy":"33"},{"ruleId":"34","replacedBy":"35"},{"ruleId":"36","severity":1,"message":"37","line":36,"column":22,"nodeType":"38","endLine":36,"endColumn":24,"suggestions":"39"},{"ruleId":"36","severity":1,"message":"37","line":31,"column":22,"nodeType":"38","endLine":31,"endColumn":24,"suggestions":"40"},"no-native-reassign",["41"],"no-negated-in-lhs",["42"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'perPage'. Either include it or remove the dependency array.","ArrayExpression",["43"],["44"],"no-global-assign","no-unsafe-negation",{"desc":"45","fix":"46"},{"desc":"45","fix":"47"},"Update the dependencies array to be: [perPage]",{"range":"48","text":"49"},{"range":"50","text":"49"},[1078,1080],"[perPage]",[955,957]]