(this["webpackJsonpusers-front"]=this["webpackJsonpusers-front"]||[]).push([[0],{42:function(e,t,a){},43:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(1),n=a.n(s),i=a(14),d=a.n(i),l=(a(42),a(15)),o=a(5),r=(a(43),a(11)),b=a(13),j=a.n(b),u=a(2),m=a.n(u);var O=function(){return Object(c.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[Object(c.jsx)(l.b,{to:"/",type:"button",className:"btn btn-dark",children:"Users"}),Object(c.jsx)(l.b,{to:"/groups/",type:"button",className:"btn btn-dark",children:"Groups"})]})},h=a(6),x=a(18),p=a.n(x);a(34);var N=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),a=t[0],n=t[1],i=Object(s.useState)([]),d=Object(r.a)(i,2),l=d[0],o=d[1],b=Object(s.useState)(0),u=Object(r.a)(b,2),x=u[0],N=u[1],g=Object(s.useState)(0),f=Object(r.a)(g,2),v=f[0],y=f[1],C=Object(s.useState)(5),k=Object(r.a)(C,1)[0],S=Object(s.useState)(1),E=Object(r.a)(S,2),M=E[0],A=E[1],w=function(e){j.a.get("/api/user/?limit=".concat(k,"&offset=").concat(e)).then((function(e){n(e.data.results),N(e.data.count),e.data.results.forEach((function(e,t){m()(".edit-user-".concat(t," #input-username-").concat(t)).val(e.username),m()(".edit-user-".concat(t," #input-group-").concat(t)).val(e.group.name)}))})),j.a.get("/api/group/").then((function(e){o(e.data)}))};return Object(s.useEffect)(w,[]),Object(c.jsxs)("div",{children:[Object(c.jsx)(h.NotificationContainer,{}),Object(c.jsx)(O,{}),Object(c.jsx)("button",{type:"button",className:"btn btn-dark add","data-bs-toggle":"modal","data-bs-target":"#add-user-modal",children:"Add User"}),Object(c.jsx)("div",{className:"modal fade",id:"add-user-modal",tabindex:"-1","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsx)("h5",{className:"modal-title",children:"Add user"}),Object(c.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(c.jsxs)("div",{className:"modal-body",children:[Object(c.jsxs)("div",{className:"mb-3 add-user",children:[Object(c.jsx)("label",{for:"input-username",className:"form-label",children:"Username"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"input-username"}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"input-group",className:"form-label",children:"Group"}),Object(c.jsx)("input",{list:"groups",className:"form-control",id:"input-group"})]}),Object(c.jsxs)("div",{className:"modal-footer",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(c.jsx)("button",{type:"button",className:"btn btn-dark",onClick:function(){var e=m()(".add-user #input-username").val(),t=m()(".add-user #input-group").val(),a=m()('#groups [value="'.concat(t,'"]'));if(e&&a){var c=a.data("value");c&&j.a.post("/api/user/",{username:e,group:c}).then((function(e){console.log(e),m()("#add-user-modal").trigger("click"),w(v),h.NotificationManager.success("Success"),m()(".add-user #input-username").val(""),m()(".add-user #input-group").val("")})).catch((function(){h.NotificationManager.error("Error")}))}},children:"Add"})]})]})]})})}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)("strong",{children:"Id"})}),Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)("strong",{children:"Username"})}),Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)("strong",{children:"Created"})}),Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)("strong",{children:"Group"})}),Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)("strong",{children:"Actions"})})]}),Object(c.jsx)("hr",{}),a.map((function(e,t){return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-sm user-field",children:e.id}),Object(c.jsx)("div",{className:"col-sm user-field",children:e.username}),Object(c.jsx)("div",{className:"col-sm user-field",children:(a=e.created,"".concat(a.split("T")[0]," ").concat(a.split("T")[1].split(".")[0]))}),Object(c.jsx)("div",{className:"col-sm user-field",children:e.group.name}),Object(c.jsx)("div",{className:"col-sm user-field",children:Object(c.jsxs)("div",{className:"btn-group",role:"group",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#edit-modal-".concat(t),children:"Edit"}),Object(c.jsx)("button",{type:"button",className:"btn btn-danger","data-bs-toggle":"modal","data-bs-target":"#delete-modal-".concat(t),children:"Delete"})]})})]}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"modal fade",id:"edit-modal-".concat(t),tabindex:"-1","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsxs)("h5",{className:"modal-title",children:["Edit user with id ",e.id]}),Object(c.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(c.jsxs)("div",{className:"modal-body",children:[Object(c.jsxs)("div",{className:"mb-3 edit-user-".concat(t),children:[Object(c.jsx)("label",{for:"input-username-".concat(t),className:"form-label",children:"Username"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"input-username-".concat(t)}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"input-group-".concat(t),className:"form-label",children:"Group"}),Object(c.jsx)("input",{list:"groups",className:"form-control",id:"input-group-".concat(t)})]}),Object(c.jsxs)("div",{className:"modal-footer",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(c.jsx)("button",{type:"button",className:"btn btn-dark",onClick:function(){return function(e,t){var a=m()(".edit-user-".concat(e," #input-username-").concat(e)).val(),c=m()(".edit-user-".concat(e," #input-group-").concat(e)).val(),s=m()('#groups [value="'.concat(c,'"]'));if(a&&s){var n=s.data("value");j.a.put("/api/user/".concat(t,"/"),{username:a,group:n}).then((function(t){m()("#edit-modal-".concat(e)).trigger("click"),w(v),h.NotificationManager.success("Success")})).catch((function(){h.NotificationManager.error("Error")}))}}(t,e.id)},children:"Update"})]})]})]})})}),Object(c.jsx)("div",{className:"modal fade",id:"delete-modal-".concat(t),tabindex:"-1","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsxs)("h5",{className:"modal-title",children:["Delete user ",e.username]}),Object(c.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(c.jsxs)("div",{className:"modal-body",children:[Object(c.jsx)("p",{children:"Are you sure?"}),Object(c.jsxs)("div",{className:"modal-footer",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(c.jsx)("button",{type:"button",className:"btn btn-dark",onClick:function(){return function(e,t){j.a.delete("/api/user/".concat(t,"/")).then((function(t){console.log(t),m()("#delete-modal-".concat(e)).trigger("click"),w(v),h.NotificationManager.success("Success")})).catch((function(){h.NotificationManager.error("Error")}))}(t,e.id)},children:"Yes"})]})]})]})})})]});var a})),Object(c.jsx)("datalist",{id:"groups",children:l.map((function(e){return Object(c.jsx)("option",{value:e.name,"data-value":e.id})}))}),Object(c.jsx)(p.a,{activePage:M,itemsCountPerPage:k,totalItemsCount:x,onChange:function(e){var t=Math.ceil((e-1)*k);y(t),w(t),A(e)},innerClass:"pagination"})]})]})};var g=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),a=t[0],n=t[1],i=Object(s.useState)(0),d=Object(r.a)(i,2),l=d[0],o=d[1],b=Object(s.useState)(0),u=Object(r.a)(b,2),x=u[0],N=u[1],g=Object(s.useState)(5),f=Object(r.a)(g,1)[0],v=Object(s.useState)(1),y=Object(r.a)(v,2),C=y[0],k=y[1],S=function(e){j.a.get("/api/group/?limit=".concat(f,"&offset=").concat(e)).then((function(e){n(e.data.results),o(e.data.count),e.data.results.forEach((function(e,t){m()(".edit-group-".concat(t," #input-name-").concat(t)).val(e.name),m()(".edit-group-".concat(t," #input-desc-").concat(t)).val(e.description)}))}))};return Object(s.useEffect)(S,[]),Object(c.jsxs)("div",{children:[Object(c.jsx)(h.NotificationContainer,{}),Object(c.jsx)(O,{}),Object(c.jsx)("button",{type:"button",className:"btn btn-dark add","data-bs-toggle":"modal","data-bs-target":"#add-group-modal",children:"Add Group"}),Object(c.jsx)("div",{className:"modal fade",id:"add-group-modal",tabindex:"-1","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsx)("h5",{className:"modal-title",children:"Add group"}),Object(c.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(c.jsxs)("div",{className:"modal-body",children:[Object(c.jsxs)("div",{className:"mb-3 add-group",children:[Object(c.jsx)("label",{for:"input-name",className:"form-label",children:"Name"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"input-name"}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"input-desc",className:"form-label",children:"Description"}),Object(c.jsx)("input",{list:"groups",className:"form-control",id:"input-desc"})]}),Object(c.jsxs)("div",{className:"modal-footer",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(c.jsx)("button",{type:"button",className:"btn btn-dark",onClick:function(){var e=m()(".add-group #input-name").val(),t=m()(".add-group #input-desc").val();e&&t&&j.a.post("/api/group/",{name:e,description:t}).then((function(){m()("#add-group-modal").trigger("click"),S(x),h.NotificationManager.success("Success"),m()(".add-group #input-name").val(""),m()(".add-group #input-desc").val("")})).catch((function(){h.NotificationManager.error("Error")}))},children:"Add"})]})]})]})})}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)("strong",{children:"Id"})}),Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)("strong",{children:"Name"})}),Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)("strong",{children:"Description"})}),Object(c.jsx)("div",{className:"col-sm",children:Object(c.jsx)("strong",{children:"Actions"})})]}),Object(c.jsx)("hr",{}),a.map((function(e,t){return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-sm user-field",children:e.id}),Object(c.jsx)("div",{className:"col-sm user-field",children:e.name}),Object(c.jsx)("div",{className:"col-sm user-field",children:e.description}),Object(c.jsx)("div",{className:"col-sm user-field",children:Object(c.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#edit-modal-".concat(t),children:"Edit"}),Object(c.jsx)("button",{type:"button",className:"btn btn-danger","data-bs-toggle":"modal","data-bs-target":"#delete-modal-".concat(t),children:"Delete"})]})})]}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"modal fade",id:"edit-modal-".concat(t),tabindex:"-1","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsxs)("h5",{className:"modal-title",children:["Edit group with id ",e.id]}),Object(c.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(c.jsxs)("div",{className:"modal-body",children:[Object(c.jsxs)("div",{className:"mb-3 edit-group-".concat(t),children:[Object(c.jsx)("label",{for:"input-name-".concat(t),className:"form-label",children:"Name"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"input-name-".concat(t)}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"input-desc-".concat(t),className:"form-label",children:"Description"}),Object(c.jsx)("input",{list:"groups",className:"form-control",id:"input-desc-".concat(t)})]}),Object(c.jsxs)("div",{className:"modal-footer",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(c.jsx)("button",{type:"button",className:"btn btn-dark",onClick:function(){return function(e,t){var a=m()(".edit-group-".concat(e," #input-name-").concat(e)).val(),c=m()(".edit-group-".concat(e," #input-desc-").concat(e)).val();a&&c&&j.a.put("/api/group/".concat(t,"/"),{name:a,description:c}).then((function(){m()("#edit-modal-".concat(e)).trigger("click"),S(x),h.NotificationManager.success("Success")})).catch((function(){h.NotificationManager.error("Error")}))}(t,e.id)},children:"Update"})]})]})]})})}),Object(c.jsx)("div",{className:"modal fade",id:"delete-modal-".concat(t),tabindex:"-1","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsxs)("h5",{className:"modal-title",children:["Delete group ",e.name]}),Object(c.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(c.jsxs)("div",{className:"modal-body",children:[Object(c.jsx)("p",{children:"Are you sure?"}),Object(c.jsxs)("div",{className:"modal-footer",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(c.jsx)("button",{type:"button",className:"btn btn-dark",onClick:function(){return function(e,t){j.a.delete("/api/group/".concat(t,"/")).then((function(){m()("#delete-modal-".concat(e)).trigger("click"),S(x),h.NotificationManager.success("Success")})).catch((function(){h.NotificationManager.error("Error, maybe the user is assigned to this group")}))}(t,e.id)},children:"Yes"})]})]})]})})})]})}))]}),Object(c.jsx)(p.a,{activePage:C,itemsCountPerPage:f,totalItemsCount:l,onChange:function(e){var t=Math.ceil((e-1)*f);N(t),S(t),k(e)},innerClass:"pagination"})]})};var f=function(){return Object(c.jsx)(l.a,{children:Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{exact:!0,path:"/groups",children:Object(c.jsx)(g,{})}),Object(c.jsx)(o.a,{path:"/",children:Object(c.jsx)(N,{})})]})})},v=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,75)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),s(e),n(e),i(e)}))};d.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(f,{})}),document.getElementById("root")),v()}},[[74,1,2]]]);
//# sourceMappingURL=main.177c9538.chunk.js.map